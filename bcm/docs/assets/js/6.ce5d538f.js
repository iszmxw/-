(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{187:function(t,s,a){"use strict";a.r(s);var n=a(0),r=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"对接动态so库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#对接动态so库","aria-hidden":"true"}},[t._v("#")]),t._v(" 对接动态so库")]),t._v(" "),a("p",[a("strong",[t._v("下面开始准备更改php扩展.")])]),t._v(" "),a("blockquote",[a("p",[t._v("使用php扩展调用动态库，由于上一步的操作，将bcm动态链接到lib库，即可方便的调用了")])]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cd到扩展目录")]),t._v("\ncd "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("www"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("server"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("php"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("56"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("src"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("ext"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("iszmxw\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看扩展目录下有如下默认文件以及目录")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@izwz92vqrxu3bz3edk0mytz iszmxw]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ll -a")]),t._v("\ntotal 44\ndrwxr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("xr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("x  3 root root 4096 Sep 16 17:08 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\ndrwxrwxr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("x 77 root root 4096 Sep 16 17:08 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("rw"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("r-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("r-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("  1 root root 2824 Sep 16 17:08 config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m4\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("rw"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("r-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("r-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("  1 root root  352 Sep 16 17:08 config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("w32\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("rw"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("r-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("r-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("  1 root root    7 Sep 16 17:08 CREDITS\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("rw"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("r-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("r-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("  1 root root    0 Sep 16 17:08 EXPERIMENTAL\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("rw"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("r-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("r-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("  1 root root  392 Sep 16 17:08 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gitignore\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("rw"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("r-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("r-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("  1 root root 5152 Sep 16 17:08 iszmxw"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("c\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("rw"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("r-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("r-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("  1 root root  502 Sep 16 17:08 iszmxw"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("php\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("rw"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("r-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("r-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("  1 root root 2315 Sep 16 17:08 php_iszmxw"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("h\ndrwxr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("xr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("x  2 root root 4096 Sep 16 17:08 tests\n")])])]),a("p",[a("strong",[t._v("首先编辑 "),a("code",[t._v("config.m4")]),t._v(" 文件，去掉第16行和第18行的注释（注释符号为 dnl 。）.")])]),t._v(" "),a("blockquote",[a("p",[t._v("修改后的结果如下")])]),t._v(" "),a("div",{staticClass:"language-c extra-class"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("PHP_ARG_ENABLE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("iszmxw"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" whether to enable iszmxw support"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\ndnl Make sure that the comment is aligned"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("enable"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("iszmxw           Enable iszmxw support"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[a("strong",[t._v("然后打开 php_iszmxw.h，在 "),a("code",[t._v("PHP_FUNCTION(confirm_iszmxw_compiled);")]),t._v(" 之下加入函数声明：")])]),t._v(" "),a("div",{staticClass:"language-c extra-class"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("PHP_FUNCTION")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("confirm_iszmxw_compiled"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* For testing, remove later. */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("PHP_FUNCTION")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bcm_cal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[a("strong",[t._v("打开 iszmxw.c，在 "),a("code",[t._v("PHP_FE(confirm_iszmxw_compiled, NULL)")]),t._v(" 下方加入以下内容。")])]),t._v(" "),a("div",{staticClass:"language-c extra-class"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" zend_function_entry iszmxw_functions"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("PHP_FE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("confirm_iszmxw_compiled"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("           "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* For testing, remove later. */")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("PHP_FE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bcm_cal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* For testing, remove later. */")]),t._v("\n        PHP_FE_END      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* Must be the last line in iszmxw_functions[] */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[a("strong",[t._v("然后在 iszmxw.c 的最末尾书写"),a("code",[t._v("bcm_cal")]),t._v("函数的内容：")])]),t._v(" "),a("div",{staticClass:"language-c extra-class"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[t._v("Infor infor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * 返回传入的年龄\n */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("PHP_FUNCTION")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bcm_cal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" isage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" isgender"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" isheight"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" isweight"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" isresistance"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("zend_parse_parameters")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ZEND_NUM_ARGS")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" TSRMLS_CC"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"llddd"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("isage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("isgender"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("isheight"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("isweight"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("isresistance"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" FAILURE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    infor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("age "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" isage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    infor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("height "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" isheight"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    infor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("weight "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" isweight"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    infor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("resistance "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" isresistance"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("isgender "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        infor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gender "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" male"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        infor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gender "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" female"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("BCM_Cal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("infor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    result "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" infor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("TBW"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("RETURN_DOUBLE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("由于引入了"),a("code",[t._v("Infor infor;")]),t._v(",则需要在"),a("code",[t._v("iszmxw.c")]),t._v("顶部引用下面代码")])]),t._v(" "),a("div",{staticClass:"language-c extra-class"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token macro property"}},[t._v("#"),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Cal.h"')])]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("最后将"),a("code",[t._v("Cal.h")]),t._v("传入到扩展的目录下面")])]),t._v(" "),a("p",[a("strong",[t._v("最后进行PHP扩展的编译和安装了。")])]),t._v(" "),a("blockquote",[a("p",[t._v("1、首先执行 "),a("code",[t._v("phpize")]),t._v(" 程序，生成configure脚本：")])]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("phpize\n")])])]),a("blockquote",[a("p",[t._v("2、然后进行编译和安装")])]),t._v(" "),a("div",{staticClass:"language-c extra-class"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("configure "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("with"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("php"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("www"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("server"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("php"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("56")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("php"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("config\nmake LDFLAGS"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("lbcm # 按照动态库安装\nmake install\n")])])]),a("blockquote",[a("p",[t._v("3、修改PHP配置文件，加载安装的扩展")])]),t._v(" "),a("div",{staticClass:"language-c extra-class"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@izwz92vqrxu3bz3edk0mytz iszmxw"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("# php "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("ini\nConfiguration File "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("php"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ini"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("www"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("server"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("php"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("56")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("etc\nLoaded Configuration File"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("         "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("www"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("server"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("php"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("56")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("php"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ini\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@izwz92vqrxu3bz3edk0mytz iszmxw"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("# vim "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("www"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("server"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("php"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("56")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("php"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ini # 修改配置文件\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@izwz92vqrxu3bz3edk0mytz iszmxw"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("# "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("init"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("php"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("fpm"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("56")]),t._v(" restart # 重启php\n")])])]),a("p",[a("strong",[t._v("最后编辑网站中的PHP文件使用该方法，尝一下，看是否可以运行。")])]),t._v(" "),a("div",{staticClass:"language-c extra-class"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@izwz92vqrxu3bz3edk0mytz "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("119.23")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".59")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".129")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("# vim "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("www"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("wwwroot"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("119.23")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".59")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".129")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("php \n\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v("php\necho "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bcm_cal="')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bcm_cal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("36")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("168.5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("63.5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("600")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<br>"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("然后退出保存，查看运行结果，php /www/wwwroot/119.23.59.129/index.php")])]),t._v(" "),a("div",{staticClass:"language-c extra-class"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@izwz92vqrxu3bz3edk0mytz "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("119.23")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".59")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".129")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("# php "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("www"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("wwwroot"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("119.23")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".59")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".129")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("php\nin so ：TBW "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" resistance "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("600.000000")]),t._v("\nbcm_cal"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("600")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("br"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@izwz92vqrxu3bz3edk0mytz "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("119.23")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".59")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".129")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("#\n")])])])])},[],!1,null,null,null);s.default=r.exports}}]);