(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{188:function(t,s,r){"use strict";r.r(s);var a=r(0),o=Object(a.a)({},function(){var t=this,s=t.$createElement,r=t._self._c||s;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"对接前准备"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#对接前准备","aria-hidden":"true"}},[t._v("#")]),t._v(" 对接前准备")]),t._v(" "),r("div",{staticClass:"tip custom-block"},[r("p",{staticClass:"custom-block-title"},[t._v("条件")]),t._v(" "),r("p",[t._v("1、需要准备编译后的so动态库文件libbcm.so，下面是准备好了的文件点击下载即可\n2、linux服务器一台，我这里用的是阿里云服务器\n3、PHP运行环境准备一个，我这里用的是PHP5.6.40版本")])]),t._v(" "),r("p",[r("strong",[t._v("文件地址.")])]),t._v(" "),r("blockquote",[r("p",[r("a",{attrs:{href:"http://iszmxw.github.io/bcm/file/so/BCM-SO.zip",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://iszmxw.github.io/bcm/file/so/BCM-SO.zip"),r("OutboundLink")],1)])]),t._v(" "),r("p",[r("strong",[t._v("安装PHP运行环境所需要的软件.")])]),t._v(" "),r("blockquote",[r("p",[t._v("这里我们所使用的是宝塔面板 "),r("code",[t._v("BT-Panel 5.2.0")]),t._v(" "),r("br"),t._v("\nNginx使用的是"),r("code",[t._v("Nginx 1.12")]),t._v(", PHP安装的"),r("code",[t._v("PHP5.6.40")]),r("br"),t._v("\n安装好后，我们创建一个站点，运用"),r("code",[t._v("phpinfo()")]),t._v("以及"),r("code",[t._v("php -m")]),t._v("检测php的扩展以及一些基本参数")])]),t._v(" "),r("p",[r("strong",[t._v("效果如下.")])]),t._v(" "),r("p",[r("img",{attrs:{src:"http://iszmxw.github.io/bcm/file/images/QQ%E6%88%AA%E5%9B%BE20190916164805.png",alt:"iszmxw",title:"QQ截图20190916164805.png"}})]),t._v(" "),r("p",[r("strong",[t._v("根据动态库创建PHP扩展：")])]),t._v(" "),r("div",{staticClass:"language-powershell extra-class"},[r("pre",{pre:!0,attrs:{class:"language-powershell"}},[r("code",[r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cd到PHP安装包的目录")]),t._v("\ncd "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("www"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("server"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("php"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("56"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("src"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("ext"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 新增一个扩展初始结构目录")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("ext_skel "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("extname=iszmxw\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 进入到新增的扩展目录")]),t._v("\ncd iszmxw"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看扩展目录所在位置")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("pwd")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("www"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("server"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("php"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("56"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("src"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("ext"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("iszmxw\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 下面上传动态库文件到服务器中，使用xftp即可上传，这里不再赘述了。（上传到自己建立的一个目录即可）")]),t._v("\n\n")])])]),r("p",[r("strong",[t._v("生成动态库的lib库.")])]),t._v(" "),r("blockquote",[r("p",[t._v("我这里将文件上传到了新建的扩展目录中")])]),t._v(" "),r("div",{staticClass:"language-powershell extra-class"},[r("pre",{pre:!0,attrs:{class:"language-powershell"}},[r("code",[r("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@izwz92vqrxu3bz3edk0mytz iszmxw]")]),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ll -a")]),t._v("\ntotal 68\ndrwxr"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("xr"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("x  4 root root  4096 Sep 26 17:15 "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\ndrwxr"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("xr"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("x 80 www  www   4096 Sep 25 18:16 "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("rw"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("r-"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("r-"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("  1 root root   671 Sep 26 10:16 Cal"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("h\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("rw"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("r-"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("r-"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("  1 root root  2042 Sep 26 10:16 config"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m4\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("rw"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("r-"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("r-"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("  1 root root   296 Sep 26 10:16 config"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("w32\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("rw"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("r-"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("r-"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("  1 root root     6 Sep 26 10:16 CREDITS\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("rw"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("r-"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("r-"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("  1 root root     0 Sep 26 10:16 EXPERIMENTAL\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("rw"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("r-"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("r-"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("  1 root root   398 Sep 26 10:16 "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gitignore\ndrwxr"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("xr"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("x  2 root root  4096 Sep 25 18:19 include\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("rw"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("r-"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("r-"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("  1 root root  7468 Sep 26 10:16 iszmxw"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("c\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("rw"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("r-"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("r-"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("  1 root root   502 Sep 26 10:16 iszmxw"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("php\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("rw"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("r-"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("r-"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("  1 root root 13112 Sep 26 10:16 libbcm"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("so\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("rw"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("r-"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("r-"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("  1 root root  2751 Sep 26 10:16 php_iszmxw"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("h\ndrwxr"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("xr"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("x  2 root root  4096 Sep 25 18:16 tests\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 将so文件放到系统中")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@izwz92vqrxu3bz3edk0mytz 119.23.59.129]")]),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# su")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@izwz92vqrxu3bz3edk0mytz 119.23.59.129]")]),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# echo /usr/local/lib > /etc/ld.so.conf.d/local.conf")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@izwz92vqrxu3bz3edk0mytz 119.23.59.129]")]),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cp libbcm.so /usr/local/lib")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@izwz92vqrxu3bz3edk0mytz 119.23.59.129]")]),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# /sbin/ldconfig")]),t._v("\n")])])])])},[],!1,null,null,null);s.default=o.exports}}]);